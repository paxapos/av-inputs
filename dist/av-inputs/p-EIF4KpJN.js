var n;(function(n){n["Rear"]="REAR";n["Front"]="FRONT"})(n||(n={}));function t(){const n=document.createElement("video");n.autoplay=true;n.style.display="none";return n}function e(n){const t=document.createElement("canvas");t.width=parseInt(n.getAttribute("width"));t.height=parseInt(n.getAttribute("height"));return t}function i(n,t){return new Promise(((e,i)=>{try{const i=document.createElement("canvas");const{originX:o,originY:a,width:r,height:c}=t;const s=r*1.3;const u=c*2;const h=s>u?s:u;const m=s>u?s:u;i.width=h;i.height=m;const g=i.getContext("2d");const f=(h-r)/2;const v=(m-c)/2;g.drawImage(n,o-f,a-v,h,m,0,0,i.width,i.height);e(i)}catch(n){i(n)}}))}function o(n,t,e=.85){return new Promise(((o,a)=>{try{i(n,t).then((n=>{n.toBlob((n=>{o(n)}),"image/jpeg",e)}))}catch(n){a(n)}}))}function a(n,t,e){let i=n.getContext("2d");let o=t.videoWidth;let r=t.videoHeight;var c=Math.min(o,r);var s=(o-c)/2;var u=(r-c)/2;if(e){e.call(this,i,t,s,u,c,c,0,0,n.width,n.height)}else{i.drawImage(t,s,u,c,c,0,0,n.width,n.height)}return requestAnimationFrame((()=>a(n,t,e)))}async function r(n,t=.85){return new Promise(((e,i)=>{try{n.toBlob((n=>{const t="pic_"+Math.abs(Math.round(Math.random()*1e3));var i=new File([n],t,{type:"image/jpeg"});e(i)}),"image/jpeg",t)}catch(n){i(n)}}))}function c(t,e=n.Front){return new Promise(((i,o)=>{if(navigator.mediaDevices.getUserMedia){const a=e==n.Front?"user":"environment";navigator.mediaDevices.getUserMedia({audio:false,video:{width:{min:200},height:{min:200},facingMode:a}}).then((n=>{t.srcObject=n;i(n)})).catch((function(n){o(n)}))}}))}export{n as C,e as a,t as c,c as i,a as r,r as t,o as v};
//# sourceMappingURL=p-EIF4KpJN.js.map