import{r as t,c as s,h as i,H as a,g as e}from"./p-9940f675.js";import{c as n,a as h,i as o,r,t as l,C as c}from"./p-1f146577.js";class d{async initCamera(t,s,i=null){this.resetCamera();if(!this.elVideo){this.elVideo=n()}if(!this.canvas){this.canvas=h(t);t.appendChild(this.canvas)}o(this.elVideo,s);r(this.canvas,this.elVideo,i);return this.canvas}resetCamera(){var t,s;if(this.stream)(s=(t=this.stream)===null||t===void 0?void 0:t.getVideoTracks())===null||s===void 0?void 0:s.forEach((t=>{var s;t===null||t===void 0?void 0:t.stop();(s=this.stream)===null||s===void 0?void 0:s.removeTrack(t)}));if(this.elVideo)this.elVideo.srcObject=null}async takePicture(){return await l(this.canvas)}}const p=new d;const u=":host{display:inline-block;width:100px;filter:drop-shadow(2px 4px 6px black);border:#5a5252 1px solid;border-style:groove}video{display:none}canvas{width:100%;height:100%}";const f=class{constructor(i){t(this,i);this.pictureTaken=s(this,"pictureTaken",6);this.facingModeChanged=s(this,"facingModeChanged",6);this.width=460;this.height=460;this.facingMode=c.Front;this.drawImageCb=null}async takePic(){const t=await p.takePicture();this.pictureTaken.emit(t);return t}async resetCamera(){p.resetCamera()}async toggleCamera(){this.__toogleFacingMode()}onClickHandler(){this.__toogleFacingMode()}__toogleFacingMode(){this.facingMode=this.facingMode!=c.Front?c.Front:c.Rear;this.facingModeChanged.emit(this.facingMode)}componentWillMount(){}async componentDidRender(){p.initCamera(this.el,c.Front,this.drawImageCb)}async disconnectedCallback(){p.resetCamera()}render(){return i(a,{style:{height:this.height+"px",width:this.width+"px"}},i("slot",{name:"before"}),i("slot",null),i("slot",{name:"after"}))}get el(){return e(this)}};f.style=u;export{f as input_file_from_webcam};
//# sourceMappingURL=p-c55892ed.entry.js.map